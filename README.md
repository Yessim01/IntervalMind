# IntervalMind - Система интервального повторения

**Автор:** Manus AI  
**Версия:** 1.0.0  
**Дата создания:** 9 июля 2025

## Описание проекта

IntervalMind — это современная веб-платформа для эффективного запоминания информации с использованием метода интервального повторения. Система автоматически планирует повторения по научно обоснованной схеме, помогая пользователям эффективно изучать и запоминать любую информацию: от юридических статей до иностранных слов.

### Ключевые особенности

- **Автоматическое планирование повторений** по схеме: 1 день → 3 дня → 7 дней → 21 день → 6 недель → 3 месяца → 6 месяца → 1 год
- **Система уведомлений** через email и веб-интерфейс
- **Категоризация тем** для удобной организации материала
- **Статистика прогресса** с детальной аналитикой
- **Адаптивный интерфейс** для работы на любых устройствах
- **Готовность к развертыванию** на бесплатных хостингах

## Структура проекта

```
IntervalMind/
├── backend/
│   └── interval_mind_backend/
│       ├── src/
│       │   ├── models/          # Модели данных
│       │   │   ├── user.py      # Модель пользователя
│       │   │   └── topic.py     # Модели тем и повторений
│       │   ├── routes/          # API маршруты
│       │   │   ├── user.py      # Пользовательские маршруты
│       │   │   ├── topic.py     # Маршруты для тем
│       │   │   └── notification.py # Маршруты уведомлений
│       │   ├── services/        # Бизнес-логика
│       │   │   └── notification_service.py # Сервис уведомлений
│       │   ├── static/          # Фронтенд файлы
│       │   │   ├── index.html   # Основная страница
│       │   │   ├── styles.css   # Стили
│       │   │   └── script.js    # JavaScript логика
│       │   ├── database/        # База данных
│       │   │   └── app.db       # SQLite база данных
│       │   └── main.py          # Точка входа Flask приложения
│       ├── init_db.py           # Скрипт инициализации БД
│       ├── daily_reminder.py    # Скрипт ежедневных напоминаний
│       ├── requirements.txt     # Зависимости Python
│       └── venv/               # Виртуальное окружение
└── README.md                   # Документация проекта
```

## Технологический стек

### Backend
- **Flask** - веб-фреймворк Python
- **SQLAlchemy** - ORM для работы с базой данных
- **SQLite** - легковесная база данных
- **Flask-CORS** - поддержка кросс-доменных запросов

### Frontend
- **HTML5** - структура веб-страниц
- **CSS3** - стилизация с градиентами и анимациями
- **JavaScript (ES6+)** - интерактивность и API взаимодействие
- **Font Awesome** - иконки

### Инфраструктура
- **Python 3.11** - основной язык разработки
- **Виртуальное окружение** - изоляция зависимостей
- **Git** - система контроля версий

## Установка и запуск

### Требования
- Python 3.11+
- pip (менеджер пакетов Python)
- Git

### Локальная установка

1. **Клонирование репозитория**
```bash
git clone <repository-url>
cd IntervalMind
```

2. **Настройка backend**
```bash
cd backend/interval_mind_backend
python -m venv venv
source venv/bin/activate  # Linux/Mac
# или
venv\Scripts\activate     # Windows
pip install -r requirements.txt
```

3. **Инициализация базы данных**
```bash
python init_db.py
```

4. **Запуск сервера**
```bash
python src/main.py
```

5. **Открытие в браузере**
Перейдите по адресу: http://localhost:5001

### Развертывание на бесплатных хостингах

#### Vercel
1. Установите Vercel CLI: `npm i -g vercel`
2. В корне проекта создайте `vercel.json`:
```json
{
  "builds": [
    {
      "src": "backend/interval_mind_backend/src/main.py",
      "use": "@vercel/python"
    }
  ],
  "routes": [
    {
      "src": "/(.*)",
      "dest": "backend/interval_mind_backend/src/main.py"
    }
  ]
}
```
3. Выполните: `vercel --prod`

#### Railway
1. Подключите GitHub репозиторий к Railway
2. Установите переменные окружения
3. Railway автоматически развернет приложение

#### Render
1. Создайте новый Web Service в Render
2. Подключите GitHub репозиторий
3. Укажите команду запуска: `python backend/interval_mind_backend/src/main.py`

## API документация

### Основные эндпоинты

#### Темы
- `POST /api/topics` - Создание новой темы
- `GET /api/topics` - Получение всех тем пользователя
- `GET /api/topics/{id}` - Получение конкретной темы
- `DELETE /api/topics/{id}` - Удаление темы

#### Повторения
- `GET /api/repetitions/today` - Повторения на сегодня
- `POST /api/repetitions/{id}/complete` - Отметка повторения как выполненного

#### Статистика
- `GET /api/statistics` - Общая статистика пользователя

#### Уведомления
- `POST /api/notifications/send-daily` - Отправка ежедневных уведомлений
- `GET /api/notifications/preview` - Предварительный просмотр уведомления

### Примеры запросов

#### Создание темы
```javascript
POST /api/topics
Content-Type: application/json

{
  "title": "Статья 228 УК РФ",
  "content": "Незаконные приобретение, хранение...",
  "category": "law",
  "user_id": 1
}
```

#### Получение статистики
```javascript
GET /api/statistics?user_id=1

Response:
{
  "total_topics": 5,
  "completed_repetitions": 3,
  "today_repetitions": 7,
  "completion_rate": 7.5,
  "categories": [
    {"name": "law", "count": 2},
    {"name": "science", "count": 3}
  ]
}
```

## База данных

### Схема данных

#### Таблица User (Пользователи)
| Поле | Тип | Описание |
|------|-----|----------|
| id | INTEGER PRIMARY KEY | Уникальный идентификатор |
| username | VARCHAR(80) UNIQUE | Имя пользователя |
| email | VARCHAR(120) UNIQUE | Email адрес |

#### Таблица Topic (Темы)
| Поле | Тип | Описание |
|------|-----|----------|
| id | INTEGER PRIMARY KEY | Уникальный идентификатор |
| title | VARCHAR(200) | Название темы |
| content | TEXT | Содержание темы |
| category | VARCHAR(100) | Категория (по умолчанию 'general') |
| created_at | DATETIME | Дата создания |
| user_id | INTEGER | Внешний ключ на User |

#### Таблица Repetition (Повторения)
| Поле | Тип | Описание |
|------|-----|----------|
| id | INTEGER PRIMARY KEY | Уникальный идентификатор |
| topic_id | INTEGER | Внешний ключ на Topic |
| repetition_number | INTEGER | Номер повторения (1-8) |
| scheduled_date | DATE | Запланированная дата |
| completed_date | DATE | Дата выполнения (может быть NULL) |
| is_completed | BOOLEAN | Флаг выполнения |
| difficulty_rating | INTEGER | Оценка сложности (1-5) |

### Интервалы повторений

| Повторение | Интервал |
|------------|----------|
| #1 | 1 день |
| #2 | 3 дня |
| #3 | 7 дней (1 неделя) |
| #4 | 21 день (3 недели) |
| #5 | 42 дня (6 недель) |
| #6 | 90 дней (3 месяца) |
| #7 | 180 дней (6 месяцев) |
| #8 | 365 дней (1 год) |

## Система уведомлений

### Email уведомления

Система поддерживает отправку ежедневных напоминаний по email. Уведомления включают:
- Список повторений на сегодня
- Информацию о просроченных повторениях
- Статистику прогресса
- HTML и текстовые версии писем

### Настройка email

Для настройки email уведомлений установите переменные окружения:
```bash
export SMTP_SERVER=smtp.gmail.com
export SMTP_PORT=587
export EMAIL_USER=your-email@gmail.com
export EMAIL_PASSWORD=your-app-password
export FROM_EMAIL=noreply@intervalmind.com
```

### Автоматизация уведомлений

Для автоматической отправки ежедневных уведомлений настройте cron:
```bash
# Ежедневно в 9:00 утра
0 9 * * * cd /path/to/IntervalMind/backend/interval_mind_backend && python daily_reminder.py --send
```

## Пользовательский интерфейс

### Основные разделы

#### 1. Панель управления
- Статистика обучения (всего тем, выполненных повторений, процент выполнения)
- Повторения на сегодня
- Распределение по категориям

#### 2. Все темы
- Список всех добавленных тем
- Фильтрация по категориям
- Информация о следующем повторении
- Прогресс-бар выполнения

#### 3. Сегодняшние повторы
- Список повторений на текущий день
- Отметка просроченных повторений
- Возможность отметить как выполненное

#### 4. Добавление темы
- Форма для создания новой темы
- Выбор категории
- Автоматическое создание расписания повторений

### Адаптивный дизайн

Интерфейс адаптирован для различных устройств:
- **Desktop** - полная функциональность с сеткой карточек
- **Tablet** - адаптированная сетка и навигация
- **Mobile** - вертикальная компоновка, увеличенные элементы управления

## Безопасность

### Текущие меры безопасности
- CORS настройки для кросс-доменных запросов
- Валидация входных данных на уровне API
- Использование параметризованных запросов для предотвращения SQL-инъекций

### Рекомендации для продакшена
- Добавить аутентификацию и авторизацию пользователей
- Использовать HTTPS для всех соединений
- Настроить rate limiting для API
- Добавить логирование и мониторинг
- Использовать переменные окружения для конфиденциальных данных

## Производительность

### Оптимизации
- Индексы в базе данных для быстрого поиска
- Кэширование статических файлов
- Минификация CSS и JavaScript
- Оптимизированные SQL запросы с JOIN

### Масштабирование
- Возможность миграции на PostgreSQL для больших нагрузок
- Горизонтальное масштабирование через микросервисы
- Использование Redis для кэширования
- CDN для статических ресурсов

## Тестирование

### Ручное тестирование
- ✅ Создание и удаление тем
- ✅ Навигация между разделами
- ✅ Отображение статистики
- ✅ Адаптивность интерфейса
- ✅ API эндпоинты

### Автоматизированное тестирование
Для добавления автоматических тестов рекомендуется:
- Unit тесты для моделей данных
- Integration тесты для API
- E2E тесты для пользовательских сценариев
- Тесты производительности

## Мониторинг и логирование

### Логирование
Система использует стандартное логирование Python:
- INFO уровень для обычных операций
- ERROR уровень для ошибок
- Логи уведомлений с детальной статистикой

### Метрики для мониторинга
- Количество активных пользователей
- Статистика выполнения повторений
- Время отклика API
- Ошибки и исключения

## Лицензия

Проект создан в образовательных целях. Для коммерческого использования требуется дополнительная лицензия.

## Поддержка

Для получения поддержки или сообщения об ошибках создайте issue в репозитории проекта.

---

*Документация создана автоматически системой Manus AI*

